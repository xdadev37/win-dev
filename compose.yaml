name: win0dev

services:
  node:
    image: node
    user: node
    container_name: node
    command: --watch /home/node/node.txt
    restart: always
    networks:
      - win0dev
    volumes:
      - "node:/home/node"
      - "../Projects:/home/node/Projects"
      - "./node.txt:/home/node/node.txt"

  nginx:
    image: nginx
    container_name: nginx
    restart: always
    networks:
      - win0dev
    ports:
      - 80:80
      - 80:80/udp
      - 443:443
      - 443:443/udp
    volumes:
      - "./nginx.conf:/etc/nginx/nginx.conf:ro"
      - "./default.conf:/etc/nginx/default.conf:ro"
      - "./fullchain.pem:/etc/nginx/fullchain.pem:ro"
      - "./privkey.pem:/etc/nginx/privkey.pem:ro"

networks:
  win0dev:
    name: win0dev

volumes:
  node:
    name: node
